---
title: "HWS regressions"
author: "Parth"
date: 2021-10-02T21:13:14-05:00
categories: ["R"]
tags: ["R Markdown", "plot", "regression"]
featuredImage: /gdpntl/Mar20.png
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<div id="regression-background-hwsgoldberg" class="section level3">
<h3>Regression Background: HWS/Goldberg</h3>
<p>Have considered 3 different measures of DMSP, AUS, HWS and Goldberg. AUS DMSP was considered for benchmarking also because both HWS and Goldberg do not have DMSP for 2013.
The difference between them comes from the way they have been aggregated as well as the polygon area (denominator).</p>
<p>While HWS and AUS do not differ much in sum of lights, HWS uses different polygon area for deflation. Goldberg sum of lights DMSP differs most from HWS and AUS, and was used for benchmarking her results. The source for the difference seems to arise from different inter calibrated DMSP satellites (due to known sensor degradation issues)</p>
<div id="hws" class="section level4">
<h4>HWS</h4>
<p><img src="/gdpntl/HWS1_Aug21.jpg" /></p>
<p> 
<br /></p>
</div>
<div id="goldberg" class="section level4">
<h4>Goldberg</h4>
<p><img src="/gdpntl/Goldberg_Aug21.png" /></p>
<p><br />
 </p>
</div>
<div id="goldberg-chart" class="section level4">
<h4>Goldberg chart</h4>
<p>Growth = MEAN(ln(GDP per capita time 1) - ln(GDP per capita time 2))</p>
<p><img src="/gdpntl/Goldberg_org.png" alt="DMSP" />
<img src="/gdpntl/Goldberg_rep.png" alt="VIIRS" /></p>
</div>
</div>
<div id="discussion" class="section level2">
<h2>Discussion</h2>
<div id="takeaway" class="section level4">
<h4>Takeaway</h4>
<ul>
<li><p>A: Considerable attenuation of the link between night lights and GDP from DMSP period to VIRS period for both level and growth regressions; open question is whether this is due to the nature of satellite measurement or some change in the underlying relationship between satellites and GDP</p>
<ul>
<li>J: Agree on attenuation, but I think there’s evidence here that it’s ‘real’ and not just due to the satellite change, since we find VIIRS&gt;=DMSP in the overlapping years.</li>
</ul></li>
<li><p>A: DMSP (Goldberg) never tracked GDP either in level or growth regressions for HIC and UMIC; this is also true for VIRS in level regressions
Bottom line: night lights are a bad proxy where GDP data are reliable (rich countries); and a decent-ish proxy exactly where GDP data are less reliable (poor countries). There are other interpretations of course</p></li>
<li><p>J: Mystery- I agree this “bottom line” matches the table, but it’s the literal opposite of the Henderson et al AER paper. Seems we need to probe a bit more there.</p></li>
<li><p>A: VIRS correlations are so weak as to make me wonder how useful they are.</p>
<ul>
<li>J: Optimism- Yeah, they could be better. But ultimately I think it’s a question of whether we can find significant differences when we start testing hypotheses. E.g., if we hypothesize bigger post-COVID growth deterioration in poorer countries compared to richer ones, can we find that? If we hypothesize a negative (or positive?) association of growth with NPIs, can we find that? If so, great. If not, then yes, could be a measurement issue. But I think the task is to formulate those hypotheses now!</li>
</ul></li>
</ul>
<p>  </p>
</div>
</div>
<div id="dmsp-viirs-overlap" class="section level2">
<h2>DMSP-VIIRS overlap</h2>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-1.png" width="672" /><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
<p><br /></p>
<p>HWS:Regression DMSP-VIIRS overlap years (2012-2013)</p>
<p><img src="/gdpntl/DMVR-HWS.png" />
<br />
<br /></p>
</div>
<div id="by-country-groups" class="section level2">
<h2>By country groups</h2>
<table>
<colgroup>
<col width="20%" />
<col width="17%" />
<col width="15%" />
<col width="14%" />
<col width="15%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">allcty_raw_wdi</th>
<th align="left">hic_rw_wdi</th>
<th align="left">lic_rw_wdi</th>
<th align="left">lmic_rw_wdi</th>
<th align="left">umic_rw_wdi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Dependent Var.:</td>
<td align="left">log(WDI)</td>
<td align="left">log(WDI)</td>
<td align="left">log(WDI)</td>
<td align="left">log(WDI)</td>
<td align="left">log(WDI)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">log(sum_pix/pol_area)</td>
<td align="left">0.0775*** (0.0200)</td>
<td align="left">0.0740* (0.0352)</td>
<td align="left">0.1603 (0.1083)</td>
<td align="left">0.0512* (0.0248)</td>
<td align="left">0.0715 (0.0500)</td>
</tr>
<tr class="even">
<td align="left">Fixed-Effects:</td>
<td align="left">——————</td>
<td align="left">—————-</td>
<td align="left">—————</td>
<td align="left">—————-</td>
<td align="left">—————</td>
</tr>
<tr class="odd">
<td align="left">iso3c_f</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">year_f</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">incat</td>
<td align="left">No</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">_____________________</td>
<td align="left">__________________</td>
<td align="left">________________</td>
<td align="left">_______________</td>
<td align="left">________________</td>
<td align="left">_______________</td>
</tr>
<tr class="odd">
<td align="left">S.E.: Clustered</td>
<td align="left">by: iso3c_f</td>
<td align="left">by: iso3c_f</td>
<td align="left">by: iso3c_f</td>
<td align="left">by: iso3c_f</td>
<td align="left">by: iso3c_f</td>
</tr>
<tr class="even">
<td align="left">Observations</td>
<td align="left">1,531</td>
<td align="left">478</td>
<td align="left">226</td>
<td align="left">404</td>
<td align="left">423</td>
</tr>
<tr class="odd">
<td align="left">R2</td>
<td align="left">0.99956</td>
<td align="left">0.99952</td>
<td align="left">0.99920</td>
<td align="left">0.99968</td>
<td align="left">0.99969</td>
</tr>
<tr class="even">
<td align="left">Within R2</td>
<td align="left">0.04560</td>
<td align="left">0.04128</td>
<td align="left">0.09232</td>
<td align="left">0.02778</td>
<td align="left">0.02260</td>
</tr>
</tbody>
</table>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p><br />
<br /></p>
</div>
<div id="by-open-data-barometer-ranking" class="section level2">
<h2>By Open Data Barometer ranking</h2>
<table>
<colgroup>
<col width="23%" />
<col width="17%" />
<col width="18%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">org_od_pwt</th>
<th align="left">l_od_pwt</th>
<th align="left">m_od_pwt</th>
<th align="left">h_od_pwt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Dependent Var.:</td>
<td align="left">log(pwt_rgdpna)</td>
<td align="left">log(pwt_rgdpna)</td>
<td align="left">log(ox_anrgdp_lcu)</td>
<td align="left">log(ox_anrgdp_lcu)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">log(sum_pix/pol_area)</td>
<td align="left">0.1072. (0.0544)</td>
<td align="left">0.4541** (0.1400)</td>
<td align="left">0.0893. (0.0450)</td>
<td align="left">0.0326 (0.0376)</td>
</tr>
<tr class="even">
<td align="left">Fixed-Effects:</td>
<td align="left">—————-</td>
<td align="left">—————–</td>
<td align="left">——————</td>
<td align="left">——————</td>
</tr>
<tr class="odd">
<td align="left">iso3c_f</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">year_f</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">rank</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">_____________________</td>
<td align="left">________________</td>
<td align="left">_________________</td>
<td align="left">__________________</td>
<td align="left">__________________</td>
</tr>
<tr class="odd">
<td align="left">S.E.: Clustered</td>
<td align="left">by: iso3c_f</td>
<td align="left">by: iso3c_f</td>
<td align="left">by: iso3c_f</td>
<td align="left">by: iso3c_f</td>
</tr>
<tr class="even">
<td align="left">Observations</td>
<td align="left">688</td>
<td align="left">160</td>
<td align="left">297</td>
<td align="left">288</td>
</tr>
<tr class="odd">
<td align="left">R2</td>
<td align="left">0.99802</td>
<td align="left">0.99175</td>
<td align="left">0.99969</td>
<td align="left">0.99969</td>
</tr>
<tr class="even">
<td align="left">Within R2</td>
<td align="left">0.06294</td>
<td align="left">0.32160</td>
<td align="left">0.04963</td>
<td align="left">0.01623</td>
</tr>
</tbody>
</table>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="add-reg-at-adm2-level" class="section level2">
<h2>Add reg at adm2 level</h2>
</div>
